<ion-header class="ion-no-border">
  <ion-toolbar color="blue">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/intro"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center">Registro de Información</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>
  <!-- <ion-split-pane contentId="main">
    <ion-router-outlet id="main">
      
    </ion-router-outlet>
  </ion-split-pane> -->

  <ion-grid fixed>
    <ion-row>
      <ion-col size="12">
        <form #formulario="ngForm" (ngSubmit)="form()">
          <ion-item>
            <ion-label position="floating">Nombre de la estación:</ion-label>
            <ion-input required name="nombre" [(ngModel)]="datos.nombre"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Correo electrónico:</ion-label>
            <ion-input
            required 
            name="correo" 
            type="email" 
            pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$"
            [(ngModel)]="datos.correo"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Teléfono(cel):</ion-label>
            <ion-input 
            maxlength="10" 
            pattern="^([0-9]+)"
            required name="telefono" 
            [(ngModel)]="datos.telefono"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Código Postal:</ion-label>
            <ion-input required name="codigoP" [(ngModel)]="datos.codigoP"></ion-input>
          </ion-item>
          
          
          <!-- <ion-item>
            <ion-label>Ingresa el Código Postal:</ion-label>
            <ion-input type="number" name="cp"  required (ionChange)="cpServices($event)" ></ion-input>
          </ion-item> -->
          
          <!-- <ion-item>
            <ion-label>Selecciona la colonia</ion-label>
            <ion-select required  placeholder="Colonia" (ionChange)="select($event)">
              <ion-select-option *ngFor="let data of respuestaCP" [value]= data.response >{{data.response.asentamiento}}</ion-select-option>
            </ion-select>
          </ion-item> -->
          
          <ion-item>
            <ion-label position="floating">Estado:</ion-label>
            <ion-input required name="estado" [(ngModel)]="datos.estado"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Municipio:</ion-label>
            <ion-input required name="municipio" [(ngModel)]="datos.municipio"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Calle y Número:</ion-label>
            <ion-input required name="calleNumero" [(ngModel)]="datos.calleNumero"></ion-input>
          </ion-item>
          <ion-input 
            type="file"
            class="d-none"
            (change)="onPhotoSelected($event)"
            #photoInput
            required>
          </ion-input>
          <br>
          <img
            [src]="photoSelected || '../../../assets/no hay imagen.png' "
            style="width: 30%; display: block; margin: auto;"
            alt="No image"
          />
          <ion-button 
            type="submit" 
            expand="block" 
            fill="clear" 
            shape="round"
            [disabled]="formulario.invalid">
            Guardar
          </ion-button>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
